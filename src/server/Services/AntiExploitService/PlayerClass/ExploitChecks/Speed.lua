local SpeedCheck = {
	MaximumSpeed = 1000,
	RotTolerance = 100,
	
	SeatSpeedTolerance = 200,
}

function SpeedCheck:Check(playerObj)
	local clientInfo = playerObj.Info
	
	local passed = true
	local returnMessage = ""
	
	local speedTolerance = self.MaximumSpeed
	local rotTolerance = self.RotTolerance
	
	local distance = math.floor(((clientInfo.RootPart.Position - clientInfo.LastPosition)* Vector3.new(1,0,1)).Magnitude)
	local diffTime = (tick()-clientInfo.LastChecked)
	local horizontalSpeed = distance/diffTime
	local rotSpeed = clientInfo.RootPart.RotVelocity.Magnitude

	if rotSpeed >= rotTolerance or horizontalSpeed >= speedTolerance then
		passed = false
		returnMessage = clientInfo.Player.Name.."'s Speed or Rotation Speed was over the Max! RotSpeed: "..tostring(rotSpeed).." Speed: "..tostring(horizontalSpeed)
	end
	
	
	return passed,returnMessage
end

function SpeedCheck:Punish(playerObj)
	local playerInfo = playerObj.Info
	playerInfo.RootPart.RotVelocity = Vector3.new(0,0,0)
	playerInfo.RootPart.Velocity = Vector3.new(0,0,0)
	playerInfo.Player.Character:SetPrimaryPartCFrame(CFrame.new(playerInfo.LastPosition))
end

return SpeedCheck
